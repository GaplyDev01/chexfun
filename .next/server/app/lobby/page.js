(()=>{var e={};e.id=33,e.ids=[33],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},8086:e=>{"use strict";e.exports=require("module")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11033:()=>{},11997:e=>{"use strict";e.exports=require("punycode")},12035:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(56877);r(9048);let s=({label:e})=>(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"2em 0"},"aria-busy":"true",children:[(0,n.jsx)("span",{style:{fontSize:32,marginRight:12},role:"status","aria-label":"Loading",children:"⏳"}),e&&(0,n.jsx)("span",{style:{fontSize:16},children:e})]})},14794:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>c});var n=r(39553),s=r(74854),a=r(23296),i=r.n(a),o=r(87047),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c={children:["",{children:["lobby",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,27923)),"C:\\Users\\wes7s\\chexfun\\src\\app\\lobby\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,84162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71299)),"C:\\Users\\wes7s\\chexfun\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,75532,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,15117,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,53610,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,84162))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,d=["C:\\Users\\wes7s\\chexfun\\src\\app\\lobby\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},p=new n.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/lobby/page",pathname:"/lobby",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},15105:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,50772,23)),Promise.resolve().then(r.t.bind(r,73722,23)),Promise.resolve().then(r.t.bind(r,10346,23)),Promise.resolve().then(r.t.bind(r,68605,23)),Promise.resolve().then(r.t.bind(r,57545,23)),Promise.resolve().then(r.t.bind(r,89009,23)),Promise.resolve().then(r.t.bind(r,33577,23)),Promise.resolve().then(r.t.bind(r,49435,23))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},21820:e=>{"use strict";e.exports=require("os")},22175:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(66057).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\wes7s\\\\chexfun\\\\src\\\\app\\\\components\\\\WalletConnectButton.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\wes7s\\chexfun\\src\\app\\components\\WalletConnectButton.tsx","default")},23673:(e,t,r)=>{"use strict";r.d(t,{default:()=>a});var n=r(56877),s=r(28484);function a(){let{login:e,logout:t}=(0,s.Zf)(),{address:r,status:a}=(0,s.DK)();return"connecting"===a||"reconnecting"===a?(0,n.jsx)("button",{style:{background:"var(--accent-2)",color:"#0d1117"},disabled:!0,title:"Connecting to wallet...",children:"\uD83D\uDD04 Connecting..."}):"connected"===a&&r?(0,n.jsxs)("button",{style:{background:"var(--success)",color:"#0d1117"},onClick:t,title:"Disconnect wallet",children:[r.slice(0,6),"...",r.slice(-4)," (Disconnect)"]}):(0,n.jsx)("button",{style:{background:"var(--accent-2)",color:"#0d1117"},onClick:e,title:"Connect your wallet",children:"Connect Wallet"})}},24164:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});let n=(0,r(72781).UU)("https://ospgpgpahqgalaufcomo.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9zcGdwZ3BhaHFnYWxhdWZjb21vIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDU1NzYzMzIsImV4cCI6MjA2MTE1MjMzMn0.houQzJX0k4S9MbnPODy13rK8oIXq-QwuuRxD9lOjE9s")},27910:e=>{"use strict";e.exports=require("stream")},27923:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(66057).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\wes7s\\\\chexfun\\\\src\\\\app\\\\lobby\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\wes7s\\chexfun\\src\\app\\lobby\\page.tsx","default")},29021:e=>{"use strict";e.exports=require("fs")},29039:(e,t,r)=>{Promise.resolve().then(r.bind(r,27923))},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},34631:e=>{"use strict";e.exports=require("tls")},37287:(e,t,r)=>{Promise.resolve().then(r.bind(r,54445))},53649:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,29792,23)),Promise.resolve().then(r.bind(r,59873)),Promise.resolve().then(r.bind(r,23673))},54445:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>P});var n=r(56877),s=r(9048),a=r.n(s),i=r(99667),o=r(24164),l=r(55511);let c={randomUUID:l.randomUUID},d=new Uint8Array(256),u=d.length,p=[];for(let e=0;e<256;++e)p.push((e+256).toString(16).slice(1));let h=function(e,t,r){if(c.randomUUID&&!t&&!e)return c.randomUUID();let n=(e=e||{}).random??e.rng?.()??(u>d.length-16&&((0,l.randomFillSync)(d),u=0),d.slice(u,u+=16));if(n.length<16)throw Error("Random bytes length must be >= 16");if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){if((r=r||0)<0||r+16>t.length)throw RangeError(`UUID byte range ${r}:${r+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[r+e]=n[e];return t}return function(e,t=0){return(p[e[t+0]]+p[e[t+1]]+p[e[t+2]]+p[e[t+3]]+"-"+p[e[t+4]]+p[e[t+5]]+"-"+p[e[t+6]]+p[e[t+7]]+"-"+p[e[t+8]]+p[e[t+9]]+"-"+p[e[t+10]]+p[e[t+11]]+p[e[t+12]]+p[e[t+13]]+p[e[t+14]]+p[e[t+15]]).toLowerCase()}(n)};var m=r(28484);function g(){return function(){return"production"}()||"production"}function f(e){return null}let x=()=>{let[e,t]=a().useState(()=>"light");return a().useEffect(()=>{document.documentElement.setAttribute("data-theme",e),localStorage.setItem("theme",e)},[e]),(0,n.jsx)("button",{onClick:()=>t("dark"===e?"light":"dark"),style:{background:"var(--accent-2)",color:"#0d1117",borderRadius:6,padding:"6px 16px",fontWeight:600,marginLeft:8},"aria-label":"dark"===e?"Switch to light mode":"Switch to dark mode",title:"dark"===e?"Switch to light mode":"Switch to dark mode",children:"dark"===e?"\uD83C\uDF19 Dark":"☀️ Light"})},b=["#4f8cff","#a259ff","#f24e1e","#43b97f","#fbbc05","#ff6d00"];function y({name:e}){let t=function(e){if(!e)return"?";let t=e.split(" ");return t.length>1?t[0][0]+t[1][0]:e.slice(0,2).toUpperCase()}(e),r=b[(e?.charCodeAt(0)??0)%b.length];return(0,n.jsx)("span",{style:{display:"inline-block",width:28,height:28,borderRadius:"50%",background:r,color:"#fff",textAlign:"center",lineHeight:"28px",fontWeight:600,marginRight:8},children:t})}let v=a().memo(function({games:e,onlineUsers:t,onJoin:r,onCreateGame:a,loading:i}){let[o,l]=(0,s.useState)("wager"),c=(0,s.useMemo)(()=>{if(!e)return[];switch(o){case"rating":return[...e].sort((e,t)=>(t.white_player_rating||0)-(e.white_player_rating||0));case"status":return[...e].sort((e,t)=>e.status.localeCompare(t.status));default:return[...e].sort((e,t)=>t.wager-e.wager)}},[e,o]);return i?(0,n.jsx)("li",{style:{textAlign:"center",padding:"2em 0"},"aria-busy":"true",children:"Loading games..."}):c.length?(0,n.jsxs)("ul",{style:{listStyle:"none",padding:0,margin:0},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",margin:"8px 0 16px 0"},children:[(0,n.jsx)("label",{htmlFor:"sort-games",style:{marginRight:8},children:"Sort by:"}),(0,n.jsxs)("select",{id:"sort-games",value:o,onChange:e=>l(e.target.value),style:{marginRight:16},"aria-label":"Sort games",children:[(0,n.jsx)("option",{value:"wager",children:"Wager"}),(0,n.jsx)("option",{value:"rating",children:"Rating"}),(0,n.jsx)("option",{value:"status",children:"Status"})]})]}),c.map(e=>(0,n.jsxs)("li",{className:"card",tabIndex:0,style:{marginBottom:"1.5em",padding:"1em 1.5em",display:"flex",alignItems:"center",justifyContent:"space-between",background:"var(--card-bg)",border:"1px solid var(--accent)",boxShadow:"0 0 12px #4f8cff33"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[(0,n.jsx)(y,{name:e.white_player}),(0,n.jsx)("span",{style:{fontWeight:600,color:"var(--accent-2)"},children:"Game ID:"})," ",(0,n.jsxs)("span",{style:{fontFamily:"var(--font-mono)",fontSize:"1.1em"},children:[e.id.slice(0,8),"..."]}),(0,n.jsx)("br",{}),(0,n.jsxs)("span",{style:{color:"var(--foreground)",fontSize:"0.95em",marginLeft:8},children:["White: ",(0,n.jsx)("b",{children:e.white_player})," ",e.white_player&&t.includes(e.white_player)?"\uD83D\uDFE2":"⚪"," ",e.black_player?"vs ":""]}),e.black_player&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(y,{name:e.black_player}),(0,n.jsxs)("span",{style:{fontSize:"0.95em"},children:[(0,n.jsx)("b",{children:e.black_player})," ",t.includes(e.black_player)?"\uD83D\uDFE2":"⚪"]})]})]}),(0,n.jsx)("button",{style:{background:"var(--accent-2)",color:"#0d1117",minWidth:100},onClick:()=>r(e),disabled:!!e.black_player,"aria-label":e.black_player?"Game already joined":"Join this game",title:e.black_player?"This game already has two players.":"Join this game",children:"Join"})]},e.id))]}):(0,n.jsxs)("li",{style:{color:"var(--foreground)",textAlign:"center",padding:"2em 0"},children:["No games available.",(0,n.jsx)("br",{}),a&&(0,n.jsx)("button",{onClick:a,style:{marginTop:12,background:"var(--accent-2)",color:"#0d1117",fontWeight:600,padding:"8px 20px",borderRadius:6},"aria-label":"Create new game",title:"Create a new game",children:"+ Create Game"})]})});var w=r(96970),j=r(12035);let C=({onPlay:e})=>(0,n.jsx)("button",{onClick:e,style:{background:"var(--accent-2)",color:"#0d1117",fontWeight:600,padding:"8px 20px",borderRadius:6,margin:"8px 0"},"aria-label":"Play vs Bot",title:"Play a game against a computer bot",children:"\uD83E\uDD16 Play vs Bot"});function P(){let e=(0,i.useRouter)(),[t,r]=(0,s.useState)(.01),[a,l]=(0,s.useState)(0),[c,d]=(0,s.useState)(3e3),[u,p]=(0,s.useState)(null),{address:g}=(0,m.DK)(),b=function(e){let[t,r]=(0,s.useState)([]);return t}(0),{games:y,loading:P,error:k}=function(e,t){let[r,n]=(0,s.useState)([]),[a,i]=(0,s.useState)(!0),[o,l]=(0,s.useState)(null);return{games:r,loading:a,error:o}}(0,u?.id);async function _(){if(!u)return;let r=h();await o.N.from("games").insert([{id:r,white_player:u.wallet_address,white_player_id:u.id,black_player:null,black_player_id:null,fen:"startpos",status:"waiting",wager:t,white_player_rating:u.rating}]),e.push(`/chessboard?gameId=${r}`)}return(0,n.jsxs)("section",{style:{display:"flex",flexDirection:"column",alignItems:"center",minHeight:"60vh"},children:[(0,n.jsxs)("div",{className:"card",style:{width:500,maxWidth:"100%",margin:"2em 0"},children:[(0,n.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,n.jsx)("h1",{style:{fontSize:"2em",fontWeight:700,marginBottom:"1em"},children:"Game Lobby"}),(0,n.jsx)(x,{})]}),(0,n.jsxs)("div",{style:{marginBottom:16},children:[(0,n.jsx)("label",{style:{marginRight:8},children:"Wager (ETH): "}),(0,n.jsx)("input",{type:"number",min:.01,step:.01,value:t,onChange:e=>r(Number(e.target.value)),style:{width:80,marginRight:16}}),(0,n.jsx)("label",{style:{marginRight:8},children:"Min Rating: "}),(0,n.jsx)("input",{type:"number",min:0,max:c,value:a,onChange:e=>l(Number(e.target.value)),style:{width:60,marginRight:8}}),(0,n.jsx)("label",{style:{marginRight:8},children:"Max Rating: "}),(0,n.jsx)("input",{type:"number",min:a,max:3e3,value:c,onChange:e=>d(Number(e.target.value)),style:{width:60,marginRight:16}})]}),P&&(0,n.jsx)(j.A,{label:"Loading games..."}),(0,n.jsx)(w.A,{message:k}),(0,n.jsx)(C,{onPlay:async()=>{if(!u)return;let t=h();await o.N.from("games").insert([{id:t,white_player:u.wallet_address,white_player_id:u.id,black_player:"BOT",black_player_id:"bot",fen:"startpos",status:"active",wager:0,white_player_rating:u.rating}]),e.push(`/chessboard?gameId=${t}`)}}),(0,n.jsx)("ul",{style:{listStyle:"none",padding:0,margin:0},children:(0,n.jsx)(v,{games:y,onlineUsers:b,loading:P,onCreateGame:_,onJoin:async t=>g?t.white_player===g?void alert("You cannot join your own game."):void(!t.black_player&&(await o.N.from("games").update({black_player:`guest_${Math.floor(1e4*Math.random())}`,status:"active"}).eq("id",t.id),e.push(`/chessboard?gameId=${t.id}`))):void alert("Please connect your wallet before joining a game.")})})]}),(0,n.jsx)(f,{})]})}},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},59873:(e,t,r)=>{"use strict";r.d(t,{default:()=>i});var n=r(56877),s=r(28484),a=r(12892);function i({children:e}){return(0,n.jsx)(s.v_,{chain:a.g,children:e})}},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},63377:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,39830,23)),Promise.resolve().then(r.bind(r,63827)),Promise.resolve().then(r.bind(r,22175))},63827:(e,t,r)=>{"use strict";r.d(t,{default:()=>n});let n=(0,r(66057).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\wes7s\\\\chexfun\\\\src\\\\app\\\\components\\\\AbstractWalletProviderWrapper.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\wes7s\\chexfun\\src\\app\\components\\AbstractWalletProviderWrapper.tsx","default")},71299:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h,metadata:()=>p});var n=r(65095),s=r(81650),a=r.n(s),i=r(65108),o=r.n(i);r(11033);var l=r(63827),c=r(39830),d=r.n(c),u=r(22175);let p={title:"Pawns.fun | Challenge Chess",description:"You up for a chellenge or are yo a pawn? Put your skills to the test, new on Abstract. Pawns.fun",openGraph:{title:"Pawns.fun | Challenge Chess",description:"You up for a challenge or are you a pawn? Put your skills to the test, new on Abstract. Pawns.fun",images:[{url:"/og-image.png",width:1200,height:630,alt:"You up for a challenge or are you a pawn? Put your skills to the test, new on Abstract. Pawns.fun"}],type:"website"},twitter:{card:"summary_large_image",title:"Pawns.fun | Challenge Chess",description:"You up for a challenge or are you a pawn? Put your skills to the test, new on Abstract. Pawns.fun",images:["/og-image.png"]}};function h({children:e}){return(0,n.jsxs)("html",{lang:"en",children:[(0,n.jsxs)("head",{children:[(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,n.jsx)("meta",{name:"theme-color",content:"#0d1117"}),(0,n.jsx)("meta",{property:"og:title",content:"Pawns.fun | Challenge Chess"}),(0,n.jsx)("meta",{property:"og:description",content:"You up for a challenge or are you a pawn? Put your skills to the test, new on Abstract. Pawns.fun"}),(0,n.jsx)("meta",{property:"og:image",content:"/og-image.png"}),(0,n.jsx)("meta",{property:"og:type",content:"website"}),(0,n.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,n.jsx)("meta",{name:"twitter:title",content:"Pawns.fun | Challenge Chess"}),(0,n.jsx)("meta",{name:"twitter:description",content:"You up for a challenge or are you a pawn? Put your skills to the test, new on Abstract. Pawns.fun"}),(0,n.jsx)("meta",{name:"twitter:image",content:"/og-image.png"})]}),(0,n.jsx)("body",{className:`${a().variable} ${o().variable} antialiased`,children:(0,n.jsxs)(l.default,{children:[(0,n.jsxs)("header",{style:{background:"linear-gradient(90deg, #0d1117 70%, #4f8cff 100%)",borderBottom:"1px solid #23272f",padding:"1.5em 2em",display:"flex",alignItems:"center",justifyContent:"space-between",minHeight:"64px"},children:[(0,n.jsxs)("div",{style:{fontWeight:700,fontSize:"1.5em",color:"var(--accent)"},children:[(0,n.jsx)("span",{role:"img","aria-label":"chess",children:"♟️"})," Chex.fun"]}),(0,n.jsxs)("nav",{style:{display:"flex",gap:"2em"},children:[(0,n.jsx)(d(),{href:"/",style:{color:"var(--foreground)",textDecoration:"none",fontWeight:500},children:"Lobby"}),(0,n.jsx)(d(),{href:"/chessboard",style:{color:"var(--foreground)",textDecoration:"none",fontWeight:500},children:"Play"}),(0,n.jsx)(d(),{href:"/bets",style:{color:"var(--foreground)",textDecoration:"none",fontWeight:500},children:"Bets"})]}),(0,n.jsx)("div",{children:(0,n.jsx)(u.default,{})})]}),(0,n.jsx)("main",{style:{maxWidth:1200,margin:"2em auto",padding:"0 2em"},children:e})]})})]})}},74075:e=>{"use strict";e.exports=require("zlib")},77598:e=>{"use strict";e.exports=require("node:crypto")},78657:(e,t,r)=>{Promise.resolve().then(r.t.bind(r,84890,23)),Promise.resolve().then(r.t.bind(r,20124,23)),Promise.resolve().then(r.t.bind(r,23296,23)),Promise.resolve().then(r.t.bind(r,62339,23)),Promise.resolve().then(r.t.bind(r,22131,23)),Promise.resolve().then(r.t.bind(r,49115,23)),Promise.resolve().then(r.t.bind(r,8971,23)),Promise.resolve().then(r.t.bind(r,65933,23))},79428:e=>{"use strict";e.exports=require("buffer")},79551:e=>{"use strict";e.exports=require("url")},81630:e=>{"use strict";e.exports=require("http")},84162:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});var n=r(49412);let s=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},91645:e=>{"use strict";e.exports=require("net")},94735:e=>{"use strict";e.exports=require("events")},96970:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(56877);r(9048);let s=({message:e})=>e?(0,n.jsx)("div",{className:"error",style:{marginBottom:"1em",background:"#ffebe9",color:"#d32f2f",padding:"8px 16px",borderRadius:4,border:"1px solid #d32f2f"},children:e}):null}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[659,526,412,781],()=>r(14794));module.exports=n})();